{"ast":null,"code":"var _jsxFileName = \"/Applications/Visual Studio copy/React/Lokaverkefni/Archive/src/pages/OrderScreen.jsx\",\n  _s = $RefreshSig$();\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { useState, useEffect } from 'react';\nimport DatePicker from 'react-datepicker';\nimport { Button, MissingOrder, H1, NavBar } from '../components';\nimport { getEmailParam, findOrder, updateOrder, addOrder, missingOrder } from '../utils';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderScreen = () => {\n  _s();\n  const navigate = useNavigate();\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [personCount, setPersonCount] = useState(1);\n  const [email, setEmail] = useState('');\n  useEffect(() => {\n    if (getEmailParam()) {\n      const order = findOrder(getEmailParam());\n      setSelectedDate(new Date(order.selectedDate));\n      setPersonCount(order.personCount);\n      setEmail(order.email);\n    }\n  }, []);\n  const isWeekday = date => {\n    const day = date.getDay();\n    return day !== 0 && day !== 6;\n  };\n  const isBefore = date => {\n    return new Date(date) >= new Date().setHours(0, 0, 0, 0);\n  };\n  const filterTime = time => {\n    const currentDate = new Date();\n    const selectedDate = new Date(time);\n    return currentDate.getTime() < selectedDate.getTime() && selectedDate.getHours() >= 16 && selectedDate.getHours() < 23;\n  };\n  const isEmail = email => /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email);\n  const finishOrder = () => {\n    if (selectedDate < new Date()) {\n      alert('Please select a date in the future');\n      return;\n    }\n    if (!isEmail(email)) {\n      alert('Please enter a valid email');\n      return;\n    }\n    if (getEmailParam()) {\n      const order = findOrder(getEmailParam());\n      order.selectedDate = selectedDate;\n      order.personCount = personCount;\n      order.email = email;\n      updateOrder(getEmailParam(), order);\n    } else {\n      addOrder(email, personCount, selectedDate);\n    }\n    navigate('/receipt?email=' + email);\n  };\n  if (missingOrder()) return /*#__PURE__*/_jsxDEV(MissingOrder, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 30\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      page: \"order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-grid-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-grid-item1 grid-item-containers\",\n          children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n            inline: true,\n            selected: selectedDate,\n            onChange: date => setSelectedDate(date),\n            filterDate: date => isWeekday(date) && isBefore(date),\n            showTimeSelect: true,\n            timeFormat: \"HH:mm\",\n            dateFormat: \"d/MM/yy HH:mm\",\n            filterTime: filterTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ordering-div\",\n            children: [/*#__PURE__*/_jsxDEV(H1, {\n              text: 'how many people?'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"person-count-div\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => personCount > 1 && setPersonCount(personCount - 1),\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: personCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => personCount < 10 && setPersonCount(personCount + 1),\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"email\",\n                  children: \"Enter your email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  id: \"email\",\n                  name: \"email\",\n                  value: email,\n                  onChange: e => setEmail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-grid-item2 grid-item-containers small-box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flexing\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-in-small-box\",\n              children: [' ', /*#__PURE__*/_jsxDEV(H1, {\n                text: 'finish your order'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-in-small-box\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => finishOrder(),\n                text: \"next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderScreen, \"603yjU6ngg3Zq0uAT1Yu8C/L8lU=\", false, function () {\n  return [useNavigate];\n});\n_c = OrderScreen;\nexport default OrderScreen;\nvar _c;\n$RefreshReg$(_c, \"OrderScreen\");","map":{"version":3,"names":["useState","useEffect","DatePicker","Button","MissingOrder","H1","NavBar","getEmailParam","findOrder","updateOrder","addOrder","missingOrder","useNavigate","OrderScreen","navigate","selectedDate","setSelectedDate","Date","personCount","setPersonCount","email","setEmail","order","isWeekday","date","day","getDay","isBefore","setHours","filterTime","time","currentDate","getTime","getHours","isEmail","test","finishOrder","alert","e","target","value"],"sources":["/Applications/Visual Studio copy/React/Lokaverkefni/Archive/src/pages/OrderScreen.jsx"],"sourcesContent":["import 'react-datepicker/dist/react-datepicker.css';\nimport { useState, useEffect } from 'react';\nimport DatePicker from 'react-datepicker';\nimport { Button, MissingOrder, H1, NavBar } from '../components';\nimport { getEmailParam, findOrder, updateOrder, addOrder, missingOrder } from '../utils';\nimport { useNavigate } from 'react-router-dom';\n\nconst OrderScreen = () => {\n  const navigate = useNavigate();\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [personCount, setPersonCount] = useState(1);\n  const [email, setEmail] = useState('');\n\n  useEffect(() => {\n    if (getEmailParam()) {\n      const order = findOrder(getEmailParam());\n\n      setSelectedDate(new Date(order.selectedDate));\n\n      setPersonCount(order.personCount);\n      setEmail(order.email);\n    }\n  }, []);\n\n  const isWeekday = (date) => {\n    const day = date.getDay();\n    return day !== 0 && day !== 6;\n  };\n\n  const isBefore = (date) => {\n    return new Date(date) >= new Date().setHours(0, 0, 0, 0);\n  };\n\n  const filterTime = (time) => {\n    const currentDate = new Date();\n    const selectedDate = new Date(time);\n\n    return (\n      currentDate.getTime() < selectedDate.getTime() &&\n      selectedDate.getHours() >= 16 &&\n      selectedDate.getHours() < 23\n    );\n  };\n\n  const isEmail = (email) => /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email);\n\n  const finishOrder = () => {\n    if (selectedDate < new Date()) {\n      alert('Please select a date in the future');\n      return;\n    }\n    if (!isEmail(email)) {\n      alert('Please enter a valid email');\n      return;\n    }\n    if (getEmailParam()) {\n      const order = findOrder(getEmailParam());\n      order.selectedDate = selectedDate;\n      order.personCount = personCount;\n      order.email = email;\n      updateOrder(getEmailParam(), order);\n    } else {\n      addOrder(email, personCount, selectedDate);\n    }\n    navigate('/receipt?email=' + email);\n  };\n\n  if (missingOrder()) return <MissingOrder />;\n  return (\n    <div>\n      <NavBar page=\"order\" />\n      <div className=\"order-container\">\n        <div className=\"order-grid-container\">\n          <div className=\"order-grid-item1 grid-item-containers\">\n            <DatePicker\n              inline\n              selected={selectedDate}\n              onChange={(date) => setSelectedDate(date)}\n              filterDate={(date) => isWeekday(date) && isBefore(date)}\n              showTimeSelect\n              timeFormat=\"HH:mm\"\n              dateFormat=\"d/MM/yy HH:mm\"\n              filterTime={filterTime}\n            />\n\n            <div className=\"ordering-div\">\n              <H1 text={'how many people?'}></H1>\n              <div className=\"person-count-div\">\n                <button onClick={() => personCount > 1 && setPersonCount(personCount - 1)}>\n                  -\n                </button>\n                <p>{personCount}</p>\n                <button onClick={() => personCount < 10 && setPersonCount(personCount + 1)}>\n                  +\n                </button>\n              </div>\n              <div>\n                <form>\n                  <label htmlFor=\"email\">Enter your email:</label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    name=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                  />\n                </form>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"order-grid-item2 grid-item-containers small-box\">\n            <div className=\"flexing\">\n              <div className=\"text-in-small-box\">\n                {' '}\n                <H1 text={'finish your order'}></H1>\n              </div>\n              <div className=\"button-in-small-box\">\n                <Button onClick={() => finishOrder()} text=\"next\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OrderScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}