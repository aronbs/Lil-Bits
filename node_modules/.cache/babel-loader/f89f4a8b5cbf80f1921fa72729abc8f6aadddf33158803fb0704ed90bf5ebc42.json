{"ast":null,"code":"var _jsxFileName = \"/Applications/Visual Studio copy/React/Lokaverkefni/Archive/src/pages/SelectDish.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport '../App.css';\nimport { Button, MissingOrder, H1, NavBar } from '../components';\nimport { getEmailParam, findOrder, updateOrder, missingOrder } from '../utils';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SelectDish = () => {\n  _s();\n  const navigate = useNavigate();\n  const [meal, setMeal] = useState();\n  const setNewMeal = () => {\n    fetch('https://themealdb.com/api/json/v1/1/random.php').then(data => data.json()).then(data => setMeal(data.meals[0]));\n  };\n  useEffect(() => {\n    const email = getEmailParam();\n    if (email) {\n      const order = findOrder(email);\n      if (order) {\n        setMeal(order.meal);\n      }\n    } else {\n      setNewMeal();\n    }\n  }, []);\n  const GoToNextPage = () => {\n    const email = getEmailParam();\n    if (email) {\n      const order = findOrder(email);\n      order.meal = meal;\n      updateOrder(email, order);\n      navigate(`/drinks?email=${email}`);\n    } else {\n      localStorage.setItem('newOrder', JSON.stringify({\n        meal\n      }));\n      navigate('/drinks');\n    }\n  };\n  if (missingOrder()) return /*#__PURE__*/_jsxDEV(MissingOrder, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 30\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      page: 'dish'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dish-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dish-grid-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dish-grid-item1 grid-item-containers\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: meal === null || meal === void 0 ? void 0 : meal.strMealThumb,\n            alt: (meal === null || meal === void 0 ? void 0 : meal.strTags) || (meal === null || meal === void 0 ? void 0 : meal.strMeal)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dish-grid-item2 grid-item-containers\",\n          children: [/*#__PURE__*/_jsxDEV(H1, {\n            text: 'select your dish'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => GoToNextPage(),\n            text: 'Next'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dish-grid-item3 grid-item-containers\",\n          children: [/*#__PURE__*/_jsxDEV(H1, {\n            text: meal === null || meal === void 0 ? void 0 : meal.strMeal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: meal === null || meal === void 0 ? void 0 : meal.strInstructions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setNewMeal(),\n          text: \"Generate new meal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(SelectDish, \"1AJZwqbUjAkdsAdqaHJK/Qwf7oQ=\", false, function () {\n  return [useNavigate];\n});\n_c = SelectDish;\nexport default SelectDish;\nvar _c;\n$RefreshReg$(_c, \"SelectDish\");","map":{"version":3,"names":["useEffect","useState","Button","MissingOrder","H1","NavBar","getEmailParam","findOrder","updateOrder","missingOrder","useNavigate","SelectDish","navigate","meal","setMeal","setNewMeal","fetch","then","data","json","meals","email","order","GoToNextPage","localStorage","setItem","JSON","stringify","strMealThumb","strTags","strMeal","strInstructions"],"sources":["/Applications/Visual Studio copy/React/Lokaverkefni/Archive/src/pages/SelectDish.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport '../App.css';\nimport { Button, MissingOrder, H1, NavBar } from '../components';\n\nimport { getEmailParam, findOrder, updateOrder, missingOrder } from '../utils';\nimport { useNavigate } from 'react-router-dom';\n\nconst SelectDish = () => {\n  const navigate = useNavigate();\n  const [meal, setMeal] = useState();\n\n  const setNewMeal = () => {\n    fetch('https://themealdb.com/api/json/v1/1/random.php')\n      .then((data) => data.json())\n      .then((data) => setMeal(data.meals[0]));\n  };\n\n  useEffect(() => {\n    const email = getEmailParam();\n    if (email) {\n      const order = findOrder(email);\n      if (order) {\n        setMeal(order.meal);\n      }\n    } else {\n      setNewMeal();\n    }\n  }, []);\n\n  const GoToNextPage = () => {\n    const email = getEmailParam();\n    if (email) {\n      const order = findOrder(email);\n      order.meal = meal;\n      updateOrder(email, order);\n      navigate(`/drinks?email=${email}`);\n    } else {\n      localStorage.setItem('newOrder', JSON.stringify({ meal }));\n      navigate('/drinks');\n    }\n  };\n\n  if (missingOrder()) return <MissingOrder />;\n\n  return (\n    <div>\n      <NavBar page={'dish'} />\n      <div className=\"dish-container\">\n        <div className=\"dish-grid-container\">\n          <div className=\"dish-grid-item1 grid-item-containers\">\n            <img src={meal?.strMealThumb} alt={meal?.strTags || meal?.strMeal}></img>\n          </div>\n          <div className=\"dish-grid-item2 grid-item-containers\">\n            <H1 text={'select your dish'}></H1>\n            <Button onClick={() => GoToNextPage()} text={'Next'}></Button>\n          </div>\n          <div className=\"dish-grid-item3 grid-item-containers\">\n            <H1 text={meal?.strMeal}></H1>\n            <p>{meal?.strInstructions}</p>\n          </div>\n          <Button onClick={() => setNewMeal()} text=\"Generate new meal\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SelectDish;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAO,YAAY;AACnB,SAASC,MAAM,EAAEC,YAAY,EAAEC,EAAE,EAAEC,MAAM,QAAQ,eAAe;AAEhE,SAASC,aAAa,EAAEC,SAAS,EAAEC,WAAW,EAAEC,YAAY,QAAQ,UAAU;AAC9E,SAASC,WAAW,QAAQ,kBAAkB;AAAC;AAE/C,MAAMC,UAAU,GAAG,MAAM;EAAA;EACvB,MAAMC,QAAQ,GAAGF,WAAW,EAAE;EAC9B,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,EAAE;EAElC,MAAMc,UAAU,GAAG,MAAM;IACvBC,KAAK,CAAC,gDAAgD,CAAC,CACpDC,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,EAAE,CAAC,CAC3BF,IAAI,CAAEC,IAAI,IAAKJ,OAAO,CAACI,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3C,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACd,MAAMqB,KAAK,GAAGf,aAAa,EAAE;IAC7B,IAAIe,KAAK,EAAE;MACT,MAAMC,KAAK,GAAGf,SAAS,CAACc,KAAK,CAAC;MAC9B,IAAIC,KAAK,EAAE;QACTR,OAAO,CAACQ,KAAK,CAACT,IAAI,CAAC;MACrB;IACF,CAAC,MAAM;MACLE,UAAU,EAAE;IACd;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,YAAY,GAAG,MAAM;IACzB,MAAMF,KAAK,GAAGf,aAAa,EAAE;IAC7B,IAAIe,KAAK,EAAE;MACT,MAAMC,KAAK,GAAGf,SAAS,CAACc,KAAK,CAAC;MAC9BC,KAAK,CAACT,IAAI,GAAGA,IAAI;MACjBL,WAAW,CAACa,KAAK,EAAEC,KAAK,CAAC;MACzBV,QAAQ,CAAE,iBAAgBS,KAAM,EAAC,CAAC;IACpC,CAAC,MAAM;MACLG,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEd;MAAK,CAAC,CAAC,CAAC;MAC1DD,QAAQ,CAAC,SAAS,CAAC;IACrB;EACF,CAAC;EAED,IAAIH,YAAY,EAAE,EAAE,oBAAO,QAAC,YAAY;IAAA;IAAA;IAAA;EAAA,QAAG;EAE3C,oBACE;IAAA,wBACE,QAAC,MAAM;MAAC,IAAI,EAAE;IAAO;MAAA;MAAA;MAAA;IAAA,QAAG,eACxB;MAAK,SAAS,EAAC,gBAAgB;MAAA,uBAC7B;QAAK,SAAS,EAAC,qBAAqB;QAAA,wBAClC;UAAK,SAAS,EAAC,sCAAsC;UAAA,uBACnD;YAAK,GAAG,EAAEI,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEe,YAAa;YAAC,GAAG,EAAE,CAAAf,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEgB,OAAO,MAAIhB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEiB,OAAO;UAAC;YAAA;YAAA;YAAA;UAAA;QAAO;UAAA;UAAA;UAAA;QAAA,QACrE,eACN;UAAK,SAAS,EAAC,sCAAsC;UAAA,wBACnD,QAAC,EAAE;YAAC,IAAI,EAAE;UAAmB;YAAA;YAAA;YAAA;UAAA,QAAM,eACnC,QAAC,MAAM;YAAC,OAAO,EAAE,MAAMP,YAAY,EAAG;YAAC,IAAI,EAAE;UAAO;YAAA;YAAA;YAAA;UAAA,QAAU;QAAA;UAAA;UAAA;UAAA;QAAA,QAC1D,eACN;UAAK,SAAS,EAAC,sCAAsC;UAAA,wBACnD,QAAC,EAAE;YAAC,IAAI,EAAEV,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEiB;UAAQ;YAAA;YAAA;YAAA;UAAA,QAAM,eAC9B;YAAA,UAAIjB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEkB;UAAe;YAAA;YAAA;YAAA;UAAA,QAAK;QAAA;UAAA;UAAA;UAAA;QAAA,QAC1B,eACN,QAAC,MAAM;UAAC,OAAO,EAAE,MAAMhB,UAAU,EAAG;UAAC,IAAI,EAAC;QAAmB;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA;IAC5D;MAAA;MAAA;MAAA;IAAA,QACF;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAEV,CAAC;AAAC,GA1DIJ,UAAU;EAAA,QACGD,WAAW;AAAA;AAAA,KADxBC,UAAU;AA4DhB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}